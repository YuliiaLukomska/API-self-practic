import{a}from"./assets/vendor-0cb09735.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function e(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(o){if(o.ep)return;o.ep=!0;const n=e(o);fetch(o.href,n)}})();const u=a.create({baseURL:"https://dummyjson.com"}),c={allProductsRef:document.querySelector("#allProducts"),singleProductForm:document.querySelector("#singleProductForm"),singleProductDiv:document.querySelector("#singleProduct"),newProductSingleForm:document.querySelector("#newProductSingleForm"),newProductSection:document.querySelector("#newProductSection"),deletionProductForm:document.querySelector("#deletionProductForm")};function d({title:t,description:r,price:e}){return`<li><h3>${t}</h3>
      <p>${r}</p>
      <p>${e}</p></li>`}c.singleProductForm.addEventListener("submit",l);async function l(t){t.preventDefault();const r=t.currentTarget.elements.id.value.trim();try{const e=await m(r);c.singleProductDiv.innerHTML=d(e)}catch(e){console.log(e)}}async function m(t){return(await u.get(`/products/${t}`)).data}c.newProductSingleForm.addEventListener("submit",f);async function f(t){t.preventDefault();const r={};new FormData(t.currentTarget).forEach((e,s)=>{r[s]=e});try{const e=await p(r);c.newProductSection.innerHTML=d(e)}catch(e){console.log(e)}}async function p(t){return(await u.post("/products/add",t)).data}c.deletionProductForm.addEventListener("submit",y);async function y(t){t.preventDefault();const r=t.currentTarget.elements.deletionId.value.trim();try{const e=await g(r);e.isDeleted&&alert(`Success, product ${e.title} was deleted`)}catch(e){alert(`There are not a product with this ID. ${e}`)}}async function g(t){try{return(await u.delete(`/products/${t}`)).data}catch(r){console.log(r)}}
//# sourceMappingURL=commonHelpers.js.map
